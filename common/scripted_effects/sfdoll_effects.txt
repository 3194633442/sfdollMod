#崔耶拉切换职业
triela_become_governor_sfdoll_effect = {
	hidden_effect = {
		every_owned_leader = {
			limit = {
				has_leader_flag = sfdoll_leader_triela
			}
			kill_leader = {
				show_notification = no
				fire = yes
			}
		}
		create_leader = {
			class = governor
			species = owner_species
			name = NAME_sfdoll_triela
			skill = 5
			set_age = 17
			immortal = yes
			event_leader = yes	# prevents this leader from leading factions and winning elections
			traits = {
				trait = leader_trait_governor_sfdoll_triela
				trait = leader_trait_righteous
			}
			effect = {
				change_leader_portrait = GFX_sfdoll_triela
				set_leader_flag = sfdoll_leader_triela
				save_global_event_target_as = sfdoll_leader_triela
			}
		}
	}
}

triela_become_scientist_sfdoll_effect = {
	hidden_effect = {
		every_owned_leader = {
			limit = {
				has_leader_flag = sfdoll_leader_triela
			}
			kill_leader = {
				show_notification = no
				fire = yes
			}
		}
		create_leader = {
			class = scientist
			species = owner_species
			name = NAME_sfdoll_triela
			skill = 5
			set_age = 17
			immortal = yes
			event_leader = yes	# prevents this leader from leading factions and winning elections
			traits = { trait = leader_trait_scientist_sfdoll_triela }
			effect = {
				change_leader_portrait = GFX_sfdoll_triela
				set_leader_flag = sfdoll_leader_triela
				save_global_event_target_as = sfdoll_leader_triela
			}
		}
	}
}

triela_become_admiral_sfdoll_effect = {
	hidden_effect = {
		every_owned_leader = {
			limit = {
				has_leader_flag = sfdoll_leader_triela
			}
			kill_leader = {
				show_notification = no
				fire = yes
			}
		}
		create_leader = {
			class = admiral
			species = owner_species
			name = NAME_sfdoll_triela
			skill = 5
			set_age = 17
			immortal = yes
			event_leader = yes	# prevents this leader from leading factions and winning elections
			traits = { trait = leader_trait_admiral_sfdoll_triela }
			effect = {
				change_leader_portrait = GFX_sfdoll_triela
				set_leader_flag = sfdoll_leader_triela
				save_global_event_target_as = sfdoll_leader_triela
			}
		}
	}
}

triela_become_general_sfdoll_effect = {
	hidden_effect = {
		every_owned_leader = {
			limit = {
				has_leader_flag = sfdoll_leader_triela
			}
			kill_leader = {
				show_notification = no
				fire = yes
			}
		}
		create_leader = {
			class = general
			species = owner_species
			name = NAME_sfdoll_triela
			skill = 5
			set_age = 17
			immortal = yes
			event_leader = yes	# prevents this leader from leading factions and winning elections
			traits = { trait = leader_trait_general_sfdoll_triela }
			effect = {
				change_leader_portrait = GFX_sfdoll_triela
				set_leader_flag = sfdoll_leader_triela
				save_global_event_target_as = sfdoll_leader_triela
			}
		}
	}
}


#跨星系攻击的星球列表，会添加检查过该星系的flag。移除该flag
remove_flag_sfdoll_planet_killer_target_effect = {
	hidden_effect = {
		every_system = {
			limit = {
				has_star_flag = flag_sfdoll_planet_killer_target
			}
			remove_star_flag = flag_sfdoll_planet_killer_target
		}
	}
}
#跨星系攻击的星球列表，每个选项对应的global event target，清除

clear_target_of_pk_sfdoll_effect = {
	if = {
		limit = {
			exists = event_target:target_1_of_pk_sfdoll
		}
		clear_global_event_target = target_1_of_pk_sfdoll
	}
	if = {
		limit = {
			exists = event_target:target_2_of_pk_sfdoll
		}
		clear_global_event_target = target_2_of_pk_sfdoll
	}
	if = {
		limit = {
			exists = event_target:target_3_of_pk_sfdoll
		}
		clear_global_event_target = target_3_of_pk_sfdoll
	}
	if = {
		limit = {
			exists = event_target:target_4_of_pk_sfdoll
		}
		clear_global_event_target = target_4_of_pk_sfdoll
	}
	if = {
		limit = {
			exists = event_target:target_5_of_pk_sfdoll
		}
		clear_global_event_target = target_5_of_pk_sfdoll
	}
	if = {
		limit = {
			exists = event_target:target_6_of_pk_sfdoll
		}
		clear_global_event_target = target_6_of_pk_sfdoll
	}
	
}